# üå∏ M√≥dulo de Servi√ßos Especializados

> Sistema completo de gest√£o de atendimentos especializados em Terapia Capilar e Mega Hair com registro detalhado por etapas flex√≠veis.

## üìã Vis√£o Geral

O m√≥dulo de **Servi√ßos Especializados** √© um sistema robusto e modular para gerenciamento de atendimentos profissionais em sal√µes de beleza, focado em dois tipos principais de servi√ßos:

- **üå∏ Terapia Capilar**: Tratamentos capilares especializados com avalia√ß√£o, sele√ß√£o, aplica√ß√£o e finaliza√ß√£o
- **üíá‚Äç‚ôÄÔ∏è Mega Hair**: Processo completo de alongamento capilar incluindo avalia√ß√£o, entrega de material, confec√ß√£o e finaliza√ß√£o

### Diferencial

O sistema permite o **preenchimento flex√≠vel e independente** de cada etapa do atendimento, possibilitando que profissionais registrem informa√ß√µes em momentos diferentes, sem necessidade de completar todo o fluxo de uma vez.

---

## ‚ú® Caracter√≠sticas Principais

### 1. **Fluxo Modular e Flex√≠vel**
- ‚úÖ Etapas independentes que podem ser preenchidas em qualquer ordem
- ‚úÖ Sistema de progresso visual com indicadores de etapas completas
- ‚úÖ Hist√≥rico completo de atendimentos anteriores por cliente
- ‚úÖ Visualiza√ß√£o de prontu√°rios passados durante novo atendimento

### 2. **Terapia Capilar (4 Etapas)**

#### üîç **Etapa 1: Avalia√ß√£o Inicial**
- Hist√≥rico capilar completo (problemas, tempo, tratamentos anteriores)
- Avalia√ß√£o de sa√∫de geral (medicamentos, condi√ß√µes dermatol√≥gicas)
- H√°bitos e cuidados atuais
- An√°lise visual do couro cabeludo e fios
- Expectativas e objetivos do tratamento
- Registro fotogr√°fico da condi√ß√£o atual

#### üíä **Etapa 2: Sele√ß√£o de Tratamento**
- Identifica√ß√£o de necessidades (hidrata√ß√£o, nutri√ß√£o, reconstru√ß√£o, etc.)
- Sele√ß√£o de m√∫ltiplos tratamentos com produtos e t√©cnicas
- Planejamento de sess√µes futuras
- Defini√ß√£o de metas e cronograma
- Registro de produtos e procedimentos

#### ‚ú® **Etapa 3: Aplica√ß√£o do Tratamento**
- Registro da data, hor√°rio e n√∫mero da sess√£o
- Documenta√ß√£o de produtos utilizados com quantidades
- T√©cnicas aplicadas e instrumentos usados
- Observa√ß√µes de condi√ß√£o antes/depois
- Dificuldades encontradas e ajustes realizados
- Recomenda√ß√µes p√≥s-tratamento
- Fotos antes e depois da aplica√ß√£o

#### üéØ **Etapa 4: Finaliza√ß√£o**
- Avalia√ß√£o final dos resultados
- Condi√ß√£o do couro cabeludo e fios
- Avalia√ß√£o de satisfa√ß√£o do cliente (1-5 estrelas)
- Recomenda√ß√µes para cuidados domiciliares
- Produtos indicados com instru√ß√µes espec√≠ficas
- Frequ√™ncia de lavagem e tratamentos complementares
- Agendamento de pr√≥xima sess√£o

### 3. **Mega Hair (4 Etapas)**

#### üîç **Etapa 1: Avalia√ß√£o Inicial**
- Identifica√ß√£o completa do cliente
- Hist√≥rico capilar e de sa√∫de
- An√°lise e observa√ß√£o capilar (densidade, textura, tipo de fio)
- Rotina e h√°bitos de cuidados
- Expectativas e objetivos do mega hair
- Avalia√ß√£o profissional e m√©todos indicados
- Termo de responsabilidade
- Registro fotogr√°fico completo

#### üì¶ **Etapa 2: Entrega de Material**
- Tipo de material recebido (natural, sint√©tico, fornecido por cliente/sal√£o)
- Caracter√≠sticas detalhadas (origem, cor, comprimento, peso, textura)
- **Checklist de inspe√ß√£o completo**:
  - Quantidade conforme
  - Cor conforme
  - Cliente ciente de responsabilidades
  - Aus√™ncia de danos
  - Material √≠ntegro
- **Termo de responsabilidade** com 4 declara√ß√µes obrigat√≥rias
- Especifica√ß√µes t√©cnicas do procedimento
- Valor e condi√ß√µes financeiras (material, confec√ß√£o, aplica√ß√£o)
- Fotos do material recebido

#### ‚úÇÔ∏è **Etapa 3: Confec√ß√£o e Aplica√ß√£o**
- Dados da sess√£o e identifica√ß√£o
- Confec√ß√£o do material (tipo, quantidade, tamanho de mechas)
- Aprova√ß√£o do cliente antes da aplica√ß√£o
- T√©cnica de aplica√ß√£o utilizada (queratina, microlink, fita, costura, etc.)
- N√∫mero de mechas aplicadas
- Avalia√ß√£o p√≥s-aplica√ß√£o (couro cabeludo, apar√™ncia, satisfa√ß√£o)
- Instru√ß√µes e cuidados imediatos
- Data de manuten√ß√£o agendada
- Fotos em todas as fases (confec√ß√£o, aprova√ß√£o, aplica√ß√£o, resultado)

#### üéØ **Etapa 4: Finaliza√ß√£o e Orienta√ß√µes**
- Avalia√ß√£o p√≥s-procedimento detalhada
- Estado visual das extens√µes
- Coment√°rios do cliente
- **Recomenda√ß√µes para cuidados**:
  - Frequ√™ncia de lavagem
  - Produtos indicados
  - Procedimentos proibidos/evitados
  - Orienta√ß√µes de escova√ß√£o
  - Indica√ß√£o de manuten√ß√£o
- Cuidados espec√≠ficos (primeiras 48h, em caso de irrita√ß√µes)
- Agendamento e pr√≥ximos passos
- Fotos do resultado final

### 4. **Sistema de Registro**
- Upload de m√∫ltiplas imagens por etapa (at√© 8 fotos)
- M√°scaras de entrada para datas e telefones
- Valida√ß√£o de campos obrigat√≥rios
- Salvamento autom√°tico com timestamp
- Hist√≥rico completo preservado

### 5. **Interface Visual**
- Cards coloridos por tipo de atendimento
- Indicadores de progresso visual
- Hist√≥rico organizado por cliente e data
- Visualiza√ß√£o r√°pida de informa√ß√µes essenciais
- Navega√ß√£o intuitiva entre etapas

---

## üìÅ Estrutura de Arquivos

```
src/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ Servicos.jsx                    # P√°gina principal do m√≥dulo
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ servicos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TipoAtendimentoSelector.jsx     # Seletor de tipo (Terapia/Mega Hair)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClienteSelector.jsx             # Seletor de cliente para atendimento
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EtapaSelector.jsx               # Seletor de etapa + hist√≥rico
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormularioEtapa.jsx             # Wrapper que renderiza formul√°rio correto
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProntuarioViewer.jsx            # Visualizador de prontu√°rios anteriores
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ terapiaCapilar/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormularioAvaliacaoInicial.jsx       # Etapa 1: Avalia√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormularioSelecaoTratamento.jsx      # Etapa 2: Sele√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormularioAplicacaoTratamento.jsx    # Etapa 3: Aplica√ß√£o
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FormularioFinalizacao.jsx            # Etapa 4: Finaliza√ß√£o
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ megaHair/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormularioAvaliacaoMegaHair.jsx      # Etapa 1: Avalia√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormularioEntregaMegaHair.jsx        # Etapa 2: Entrega Material
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormularioConfeccaoMegaHair.jsx      # Etapa 3: Confec√ß√£o/Aplica√ß√£o
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ FormularioFinalizacaoMegaHair.jsx    # Etapa 4: Finaliza√ß√£o
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ clientes/
‚îÇ       ‚îî‚îÄ‚îÄ ImageUploader.jsx               # Componente de upload de imagens
‚îÇ
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ masks.jsx                           # M√°scaras de entrada (data, telefone)
```

---

## üìÑ Detalhamento dos Arquivos

### üìå **P√°gina Principal**

#### `src/pages/Servicos.jsx`
**Responsabilidade**: Orquestra√ß√£o do fluxo completo de atendimento

**Estado Gerenciado**:
```javascript
- tipoSelecionado: null | 'terapia_capilar' | 'mega_hair'
- clienteSelecionado: null | Cliente
- etapaSelecionada: null | string
- showFormulario: boolean
```

**Principais Fun√ß√µes**:
- `handleSelectTipo()`: Define tipo de atendimento
- `handleSelectCliente()`: Define cliente a ser atendido
- `handleSelectEtapa()`: Define etapa a preencher
- `handleSaveProntuario()`: Salva prontu√°rio no contexto global
- `handleCloseAll()`: Fecha todos os modais e limpa estados
- `getEtapaInfo()`: Retorna informa√ß√µes formatadas da etapa

**Renderiza√ß√£o Condicional**:
1. Dashboard com cards de estat√≠sticas
2. Hist√≥rico de atendimentos (separado por tipo)
3. Modal de sele√ß√£o de tipo (se n√£o houver tipo)
4. Modal de sele√ß√£o de cliente (se houver tipo mas n√£o cliente)
5. Modal de sele√ß√£o de etapa (se houver tipo e cliente)
6. Modal de formul√°rio (se tudo estiver selecionado)

**Integra√ß√£o com Contexto**:
```javascript
const { 
  salaoAtual,           // Sal√£o atual
  prontuarios,          // Lista de todos os prontu√°rios
  setProntuarios,       // Fun√ß√£o para atualizar prontu√°rios
  getClientesPorSalao,  // Filtra clientes do sal√£o
  getProdutosPorSalao   // Filtra produtos do sal√£o
} = useContext(SalaoContext);
```

---

### üìå **Componentes de Fluxo**

#### `src/components/servicos/TipoAtendimentoSelector.jsx`
**Props**:
- `onSelect: (tipo: string) => void` - Callback ao selecionar tipo

**Funcionalidade**:
- Apresenta 2 cards grandes com √≠cones
- üå∏ Terapia Capilar: Lista 4 etapas
- üíá‚Äç‚ôÄÔ∏è Mega Hair: Lista 4 etapas
- Efeito hover com scale e sombra

**Design**:
- Gradientes suaves (purple-pink / blue-indigo)
- √çcones grandes (8xl)
- Lista de etapas com √≠cones

---

#### `src/components/servicos/ClienteSelector.jsx`
**Props**:
- `clientes: Cliente[]` - Lista de clientes
- `onSelect: (cliente: Cliente) => void` - Callback ao selecionar
- `onCancel: () => void` - Callback ao cancelar

**Funcionalidade**:
- Modal fullscreen com overlay
- Campo de busca por nome ou telefone
- Lista filtrada de clientes
- Avatar circular com inicial do nome
- Exibe nome e telefone

**Features**:
- Busca em tempo real
- Scroll na lista de clientes
- Feedback visual no hover

---

#### `src/components/servicos/EtapaSelector.jsx`
**Props**:
- `clienteSelecionado: Cliente` - Cliente selecionado
- `tipoAtendimento: string` - Tipo do atendimento
- `onSelectEtapa: (etapa: string) => void` - Callback sele√ß√£o
- `onCancel: () => void` - Callback cancelamento
- `atendimentosAnteriores: Prontuario[]` - Hist√≥rico

**Layout**:
- **Lado Esquerdo (2/5)**: Hist√≥rico de atendimentos
- **Lado Direito (3/5)**: Sele√ß√£o de nova etapa

**Hist√≥rico**:
- Lista cronol√≥gica de atendimentos anteriores
- Clique para visualizar prontu√°rio completo
- Contador de etapas realizadas

**Sele√ß√£o de Etapa**:
- Grid de 4 cards (2x2)
- Badge verde com contador se j√° realizada
- Dica explicativa sobre flexibilidade

**Estado Interno**:
```javascript
const [prontuarioSelecionado, setProntuarioSelecionado] = useState(null);
```

**Integra√ß√£o**:
- Chama `ProntuarioViewer` ao clicar em atendimento hist√≥rico

---

#### `src/components/servicos/FormularioEtapa.jsx`
**Props**:
- `clienteSelecionado: Cliente`
- `tipoAtendimento: string`
- `etapaSelecionada: string`
- `onClose: () => void`
- `onSave: (prontuario: Prontuario) => void`
- `produtos: Produto[]`

**Responsabilidade**:
- Wrapper que renderiza o formul√°rio correto
- Gerencia estado unificado do formul√°rio
- Fun√ß√µes de manipula√ß√£o de dados
- Salvamento do prontu√°rio

**Estado**:
```javascript
const [formData, setFormData] = useState({})
```

**Fun√ß√µes Principais**:
```javascript
handleChange(e)              // Atualiza campo simples
handleImagensChange(campo, imagens)  // Atualiza imagens
handleSalvar()              // Valida e salva prontu√°rio
```

**Renderiza√ß√£o Condicional**:
```javascript
if (tipoAtendimento === 'terapia_capilar') {
  switch (etapaSelecionada) {
    case 'avaliacao': return <FormularioAvaliacaoInicial />
    case 'selecao': return <FormularioSelecaoTratamento />
    case 'aplicacao': return <FormularioAplicacaoTratamento />
    case 'finalizacao': return <FormularioFinalizacao />
  }
} else if (tipoAtendimento === 'mega_hair') {
  switch (etapaSelecionada) {
    case 'avaliacao': return <FormularioAvaliacaoMegaHair />
    case 'entrega': return <FormularioEntregaMegaHair />
    case 'confeccao': return <FormularioConfeccaoMegaHair />
    case 'finalizacao': return <FormularioFinalizacaoMegaHair />
  }
}
```

**Estrutura do Prontu√°rio Salvo**:
```javascript
{
  clienteId: number,
  tipo: 'terapia_capilar' | 'mega_hair',
  data: string,           // "DD/MM/AAAA"
  hora: string,           // "HH:MM"
  etapaPreenchida: string,
  dadosTerapiaCapilar: object,  // Todos os dados do formul√°rio
  etapasCompletas: string[]
}
```

---

#### `src/components/servicos/ProntuarioViewer.jsx`
**Props**:
- `prontuario: Prontuario` - Prontu√°rio a visualizar
- `onClose: () => void` - Callback para fechar

**Funcionalidade**:
- Modal de visualiza√ß√£o de prontu√°rio anterior
- Exibe header com √≠cone, nome da etapa, data e hora
- Lista todos os campos preenchidos
- Filtra campos vazios e objetos
- Formata nomes de campos (camelCase ‚Üí "Camel Case")

**Limita√ß√µes**:
- N√£o exibe imagens (apenas dados textuais)
- N√£o permite edi√ß√£o
- N√£o exibe sub-objetos complexos

---

### üìå **Formul√°rios de Terapia Capilar**

#### `src/components/terapiaCapilar/FormularioAvaliacaoInicial.jsx`

**Se√ß√µes do Formul√°rio**:

1. **Hist√≥rico Capilar** (bg-purple-50)
   - Problemas capilares (checkboxes m√∫ltiplos)
   - Tempo dos problemas
   - Hist√≥rico de tratamentos (textarea)
   - Medicamentos (textarea)

2. **Sa√∫de Geral** (bg-blue-50)
   - Gravidez/Amamenta√ß√£o (radio: N√£o/Gr√°vida/Amamentando)
   - Condi√ß√µes dermatol√≥gicas (textarea)

3. **H√°bitos e Cuidados** (bg-green-50)
   - Frequ√™ncia de lavagem (select)
   - Produtos utilizados (textarea)
   - Rotina de cuidados (textarea)

4. **Estilo de Vida** (bg-yellow-50)
   - Fatores de influ√™ncia (checkboxes)
   - Detalhes adicionais (textarea)

5. **Expectativas** (bg-pink-50)
   - Objetivo do tratamento (textarea) *

6. **Avalia√ß√£o Visual** (bg-indigo-50)
   - Tipo de couro cabeludo (radio) *
   - Descama√ß√£o, Irrita√ß√£o, Vermelhid√£o (radio Sim/N√£o)
   - Estado dos fios (textarea)
   - Padr√£o de queda (input)

7. **Imagens da Avalia√ß√£o**
   - ImageUploader (at√© 6 fotos)

8. **Finaliza√ß√£o** (bg-gray-50)
   - Recomenda√ß√µes iniciais (textarea)
   - Pr√≥ximos passos (textarea)
   - Data pr√≥ximo atendimento (MaskedInput)

**Campos Obrigat√≥rios** (*):
- problemasCapilares (array)
- objetivoTratamento
- tipoCouroCabeludo

**Fun√ß√£o Auxiliar**:
```javascript
handleCheckboxChange(field, value) {
  // Adiciona/remove valor de array de checkboxes
}
```

---

#### `src/components/terapiaCapilar/FormularioSelecaoTratamento.jsx`

**Se√ß√µes**:

1. **Necessidades Identificadas** (bg-purple-50)
   - Checkboxes: Hidrata√ß√£o, Nutri√ß√£o, Reconstru√ß√£o, etc. *
   - Campo adicional se "Outros" selecionado

2. **Tratamentos Indicados** (bg-blue-50)
   - Lista din√¢mica de tratamentos
   - Cada tratamento tem:
     - Nome do produto/t√©cnica *
     - Procedimento *
     - Frequ√™ncia recomendada
     - Dura√ß√£o estimada
   - Bot√µes "+ Adicionar" e "Remover"

3. **Observa√ß√µes do Profissional** (bg-yellow-50)
   - Textarea para observa√ß√µes gerais

4. **Plano de Tratamento** (bg-green-50)
   - Lista din√¢mica de sess√µes agendadas
   - Cada sess√£o tem:
     - Data prevista (MaskedInput)
     - Objetivo da sess√£o
   - Metas a alcan√ßar (textarea)

5. **Imagens** (at√© 4 fotos)

**Gest√£o de Estado Din√¢mico**:
```javascript
// Tratamentos
handleAddTratamento()
handleRemoveTratamento(id)
handleTratamentoChange(id, field, value)

// Sess√µes
handleAddSessao()
handleRemoveSessao(id)
handleSessaoChange(id, field, value)
```

**Estrutura de Dados**:
```javascript
tratamentosSelecionados: [{
  id: timestamp,
  nomeProduto: string,
  procedimento: string,
  frequencia: string,
  duracao: string
}]

sessoesAgendadas: [{
  id: timestamp,
  data: string,
  objetivo: string
}]
```

---

#### `src/components/terapiaCapilar/FormularioAplicacaoTratamento.jsx`

**Se√ß√µes**:

1. **Dados da Sess√£o** (bg-purple-50)
   - Data da aplica√ß√£o (MaskedInput) *
   - Hor√°rio (time input)
   - N√∫mero da sess√£o (number)

2. **Procedimentos Realizados** (bg-blue-50)
   - Tipo de tratamento (radio) *
     - Hidrata√ß√£o, Nutri√ß√£o, Reconstru√ß√£o, Outros
   - Lista din√¢mica de produtos utilizados *
     - Nome, Marca, Quantidade
   - T√©cnica empregada (input) *
   - Temperatura/Instrumento usado (input)

3. **Observa√ß√µes Durante Aplica√ß√£o** (bg-yellow-50)
   - Condi√ß√£o antes (textarea)
   - Condi√ß√£o depois (textarea)
   - Dificuldades encontradas (textarea)
   - Ajustes no protocolo (textarea)
   - Rea√ß√µes adversas (textarea)

4. **Recomenda√ß√µes P√≥s-Tratamento** (bg-green-50)
   - Cuidados at√© pr√≥ximo atendimento (textarea)
   - Produtos domiciliares (textarea)
   - Orienta√ß√µes de manuten√ß√£o (textarea)

5. **Agendamento Pr√≥xima Sess√£o** (bg-pink-50)
   - Data de retorno (MaskedInput)
   - Tipo de tratamento pr√≥xima etapa (input)

6. **Imagens**
   - Fotos antes (at√© 4)
   - Fotos depois (at√© 4)

**Gest√£o de Produtos**:
```javascript
handleProdutoChange(index, field, value)
handleAddProduto()
handleRemoveProduto(index)

produtosUtilizados: [{
  nome: string,
  marca: string,
  quantidade: string
}]
```

---

#### `src/components/terapiaCapilar/FormularioFinalizacao.jsx`

**Se√ß√µes**:

1. **Dados da Sess√£o** (bg-purple-50)
   - Data finaliza√ß√£o (MaskedInput) *
   - Hor√°rio (time)
   - N√∫mero da sess√£o (number)

2. **Condi√ß√£o Final Observada** (bg-blue-50)
   - Caracter√≠sticas finais (checkboxes): Brilho, Maciez, etc. *
   - Estado dos fios detalhado (textarea)
   - Condi√ß√£o couro cabeludo (textarea)
   - Avalia√ß√£o cliente (1-5 estrelas, componente Star)
   - Coment√°rios cliente (textarea)

3. **Recomenda√ß√µes Cuidados Domiciliares** (bg-green-50)
   - Produtos indicados (textarea) *
   - Instru√ß√µes espec√≠ficas (textarea)
   - Cuidados gerais (textarea)

4. **Orienta√ß√µes Gerais** (bg-yellow-50)
   - Frequ√™ncia lavagem (select)
   - Tratamentos complementares (textarea)
   - Dicas couro cabeludo (textarea)
   - H√°bitos saud√°veis (textarea)

5. **Agendamento** (bg-pink-50)
   - Data pr√≥xima sess√£o (MaskedInput)
   - Hor√°rio (time)
   - Objetivo pr√≥xima sess√£o (input)

6. **Observa√ß√µes Adicionais** (bg-gray-50)
   - Anota√ß√µes profissional (textarea)
   - Solicita√ß√µes cliente (textarea)

7. **Imagens Finais** (at√© 6 fotos)

**Componente de Avalia√ß√£o**:
```javascript
// Sistema de 5 estrelas clic√°vel
{[1, 2, 3, 4, 5].map(nota => (
  <Star
    size={32}
    className={nota <= avaliacaoCliente ? 'fill-current' : ''}
    onClick={() => setAvaliacao(nota)}
  />
))}
```

---

### üìå **Formul√°rios de Mega Hair**

#### `src/components/megaHair/FormularioAvaliacaoMegaHair.jsx`

**Se√ß√µes**:

1. **Identifica√ß√£o do Cliente** (bg-purple-50)
   - Nome completo (input) *
   - Data nascimento (MaskedInput)
   - Telefone/WhatsApp (MaskedInput)
   - E-mail (input)
   - Profiss√£o (input)

2. **Hist√≥rico Capilar e Sa√∫de** (bg-blue-50)
   - Tempo que deseja procedimento (input) *
   - Usou extens√µes antes? (radio) *
     - Se sim: t√©cnicas anteriores (textarea)
   - Hist√≥rico queda cabelo (radio + textarea)
   - Diagn√≥stico enfermidade (radio + textarea)
   - Usa medicamentos (radio + textarea)
   - Alergias conhecidas (textarea)
   - Procedimentos qu√≠micos recentes (radio + textarea)
   - Doen√ßas cr√¥nicas (textarea)
   - Infec√ß√£o/irrita√ß√£o (radio + textarea)

3. **An√°lise e Observa√ß√£o Capilar** (bg-green-50)
   - Densidade capilar (radio: Alta/M√©dia/Baixa) *
   - Comprimento dos fios (input)
   - Textura (radio: Lisa/Ondulada/Cacheada/Crespa) *
   - Tipo de fio (radio: Fino/M√©dio/Grosso) *
   - Elasticidade (radio: Boa/M√©dia/Baixa)
   - Porosidade (radio)
   - Estabilidade fios (radio: Est√°vel/Fragilizada)
   - Falhas vis√≠veis (input)
   - Sinais couro cabeludo (checkboxes m√∫ltiplos)
   - Corte qu√≠mico (radio)

4. **Rotina e H√°bitos** (bg-yellow-50)
   - Frequ√™ncia lavagem (input)
   - Produtos usados (textarea)
   - Dorme cabelo √∫mido (radio)
   - Usa ferramentas t√©rmicas (radio + detalhes)
   - Alimenta√ß√£o (radio)

5. **Expectativas e Objetivos** (bg-pink-50)
   - Motivo mega hair (textarea) *
   - Resultado esperado (textarea) *
   - Refer√™ncias cor/textura (textarea)
   - Aceita manuten√ß√£o peri√≥dica (radio) *

6. **Avalia√ß√£o Profissional** (bg-indigo-50)
   - M√©todos indicados (textarea)
   - Quantidade sugerida (input)
   - Considera√ß√µes e contraindica√ß√µes (textarea)

7. **Imagens** (at√© 6 fotos)

8. **Termo de Responsabilidade** (bg-red-50)
   - 4 declara√ß√µes obrigat√≥rias
   - Checkbox "Li e aceito" *

9. **Assinaturas** (bg-gray-50)
   - Data avalia√ß√£o (MaskedInput)
   - Nome profissional respons√°vel (input)
   - Nota sobre registro digital

---

#### `src/components/megaHair/FormularioEntregaMegaHair.jsx`

**Se√ß√µes**:

1. **Identifica√ß√£o** (bg-purple-50)
   - Nome cliente (input) *
   - Data recebimento (MaskedInput) *
   - Profissional respons√°vel (input) *

2. **Tipo de Material Recebido** (bg-blue-50)
   - Radio com 5 op√ß√µes *
   - Campo adicional se "Outro"

3. **Caracter√≠sticas do Material** (bg-green-50)
   - Origem/Proced√™ncia (input)
   - Cor (input) *
   - Comprimento (input) *
   - Peso/Quantidade (input) *
   - Textura (radio) *
   - Tipo de fio (radio) *
   - Condi√ß√£o observada (radio) *

4. **Checklist de Inspe√ß√£o** (bg-yellow-50) - 8 itens *
   - Cada item: Radio Sim/N√£o
   - Itens importantes:
     - Quantidade conforme
     - Cor conforme
     - Cliente ciente de responsabilidades
     - Aus√™ncia de danos
     - Material √≠ntegro
   - Observa√ß√µes sobre problemas (textarea)

5. **Termo de Responsabilidade** (bg-red-50) - 4 termos *
   - Checkboxes obrigat√≥rios:
     - Material conforme descrito
     - Autoriza uso do material
     - N√£o responsabiliza por danos anteriores
     - Autoriza manipula√ß√£o (perda de comprimento/volume)

6. **Especifica√ß√µes T√©cnicas** (bg-indigo-50)
   - M√©todo de aplica√ß√£o (input) *
   - Dura√ß√£o confec√ß√£o (input)
   - Dura√ß√£o mega hair (input)
   - Necessidade manuten√ß√£o (radio + frequ√™ncia)

7. **Valor e Condi√ß√µes Financeiras** (bg-pink-50)
   - Valor material (input)
   - Valor confec√ß√£o (input)
   - Valor aplica√ß√£o (input)
   - Valor total (input) *
   - Forma pagamento (input)
   - Data pagamento (MaskedInput)

8. **Imagens Material** (at√© 6 fotos)

9. **Observa√ß√µes Adicionais** (textarea)

10. **Assinaturas** (bg-gray-50)
    - Data documento (MaskedInput)
    - RG/CPF cliente (input)

**Fun√ß√µes Auxiliares**:
```javascript
handleChecklistChange(field, value)
handleTermoChange(field, checked)
```

---

#### `src/components/megaHair/FormularioConfeccaoMegaHair.jsx`

**Se√ß√µes**:

1. **Identifica√ß√£o** (bg-purple-50)
   - Nome cliente (input) *
   - Data confec√ß√£o/aplica√ß√£o (MaskedInput) *
   - Profissional respons√°vel (input) *

2. **Confec√ß√£o do Material** (bg-blue-50)
   - Tipo mega hair confeccionado (input) *
   - Quantidade mechas (input) *
   - Tamanho mechas (input)
   - Observa√ß√µes confec√ß√£o (textarea)

3. **Imagens Confec√ß√£o** (at√© 6 fotos)

4. **Aprova√ß√£o do Cliente** (bg-green-50)
   - Cliente aprovou? (radio) *
   - Coment√°rios cliente (textarea)

5. **Imagens Aprova√ß√£o** (at√© 4 fotos)

6. **Aplica√ß√£o do Mega Hair** (bg-yellow-50)
   - T√©cnica aplica√ß√£o (radio) *
     - Cola queratina, Microlink, Fita adesiva, 
       Costura, N√≥ italiano, Outro
   - N√∫mero mechas aplicadas (input) *
   - Observa√ß√µes aplica√ß√£o (textarea)

7. **Imagens Aplica√ß√£o** (at√© 6 fotos)

8. **Avalia√ß√£o P√≥s-Aplica√ß√£o** (bg-pink-50)
   - Estado couro cabeludo (radio) *
   - Apar√™ncia mega hair (radio) *
   - Satisfa√ß√£o cliente (radio) *
   - Coment√°rio satisfa√ß√£o (textarea)

9. **Imagens Resultado Final** (at√© 8 fotos)

10. **Instru√ß√µes e Cuidados** (bg-indigo-50)
    - Cliente recebeu orienta√ß√µes (checkbox) *
    - Principais orienta√ß√µes (textarea)
    - Data manuten√ß√£o agendada (MaskedInput)
    - Info manuten√ß√£o (textarea)

11. **Observa√ß√µes Adicionais** (textarea)

12. **Assinaturas** (bg-gray-50)
    - Data documento (MaskedInput)
    - Hor√°rio t√©rmino (time input)

---

#### `src/components/megaHair/FormularioFinalizacaoMegaHair.jsx`

**Se√ß√µes**:

1. **Dados da Sess√£o** (bg-purple-50)
   - Nome cliente (input) *
   - Data finaliza√ß√£o (MaskedInput) *
   - Profissional respons√°vel (input) *

2. **Avalia√ß√£o P√≥s-Procedimento** (bg-blue-50)
   - Estado extens√µes (textarea) *
   - Condi√ß√£o couro cabeludo (radio) *
   - Cliente satisfeita (radio) *
   - Coment√°rio cliente (textarea)

3. **Recomenda√ß√µes para Cuidados** (bg-green-50)
   - Frequ√™ncia lavagem (select) *
   - Produtos indicados (textarea) *
   - Procedimentos proibidos (textarea) *
   - Orienta√ß√µes escova√ß√£o (textarea)
   - Indica√ß√£o manuten√ß√£o (textarea) *

4. **Cuidados Espec√≠ficos** (bg-yellow-50)
   - Cuidados primeiras 48h (textarea) *
   - Procedimento irrita√ß√µes (textarea)
   - Cuidados prolongar dura√ß√£o (textarea)

5. **Agendamento e Pr√≥ximos Passos** (bg-pink-50)
   - Data prevista manuten√ß√£o (MaskedInput)
   - Observa√ß√µes ajustes futuros (textarea)
   - Pr√≥ximos tratamentos sugeridos (textarea)

6. **Observa√ß√µes Adicionais** (bg-gray-50)
   - Anota√ß√µes profissional (textarea)
   - D√∫vidas cliente (textarea)

7. **Imagens Finais** (at√© 8 fotos)

8. **Assinaturas** (bg-gray-50)
   - Data documento (MaskedInput)
   - Hor√°rio (time input)

---

### üìå **Componentes Auxiliares**

#### `src/components/clientes/ImageUploader.jsx`

**Props**:
```javascript
{
  images: string[],              // Array de URLs/base64
  onImagesChange: (imgs) => void,
  maxImages: number,             // Limite de fotos
  label: string,                 // Label do uploader
  categoria: string              // Categoria para organiza√ß√£o
}
```

**Funcionalidade**:
- Upload m√∫ltiplo de imagens
- Preview das imagens
- Remo√ß√£o individual
- Limite configur√°vel
- Convers√£o para base64
- Valida√ß√£o de tipo de arquivo

**Exemplo de Uso**:
```javascript
<ImageUploader
  images={formData.imagensAvaliacao || []}
  onImagesChange={(imgs) => onImagensChange('imagensAvaliacao', imgs)}
  maxImages={6}
  label="üì∏ Fotos do couro cabeludo e fios"
  categoria="avaliacao-inicial"
/>
```

---

#### `src/components/MaskedInput.jsx`

**Props**:
```javascript
{
  mask: 'date' | 'phone',
  value: string,
  onChange: (e) => void,
  name: string,
  placeholder: string,
  className: string
}
```

**M√°scaras Dispon√≠veis**:
- **date**: `DD/MM/AAAA`
- **phone**: `(00) 00000-0000`

**Comportamento**:
- Formata√ß√£o autom√°tica durante digita√ß√£o
- Permite apenas n√∫meros
- Aplica m√°scara conforme tipo

**Exemplo de Uso**:
```javascript
<MaskedInput
  mask="date"
  name="dataAplicacao"
  value={formData.dataAplicacao || ''}
  onChange={onChange}
  placeholder="DD/MM/AAAA"
/>
```

---

### üìå **Utilit√°rios**

#### `src/utils/masks.jsx`

**Fun√ß√µes Exportadas**:

```javascript
// Retorna data de hoje no formato "DD/MM/AAAA"
export const getTodayBR = () => string

// Aplica m√°scara de data
export const maskDate = (value: string) => string

// Aplica m√°scara de telefone
export const maskPhone = (value: string) => string

// Remove caracteres n√£o num√©ricos
export const unmask = (value: string) => string
```

**Implementa√ß√£o**:
```javascript
export const getTodayBR = () => {
  const hoje = new Date();
  const dia = String(hoje.getDate()).padStart(2, '0');
  const mes = String(hoje.getMonth() + 1).padStart(2, '0');
  const ano = hoje.getFullYear();
  return `${dia}/${mes}/${ano}`;
};

export const maskDate = (value) => {
  const numbers = value.replace(/\D/g, '');
  if (numbers.length <= 2) return numbers;
  if (numbers.length <= 4) return `${numbers.slice(0, 2)}/${numbers.slice(2)}`;
  return `${numbers.slice(0, 2)}/${numbers.slice(2, 4)}/${numbers.slice(4, 8)}`;
};

export const maskPhone = (value) => {
  const numbers = value.replace(/\D/g, '');
  if (numbers.length <= 2) return `(${numbers}`;
  if (numbers.length <= 6) return `(${numbers.slice(0, 2)}) ${numbers.slice(2)}`;
  if (numbers.length <= 10) {
    return `(${numbers.slice(0, 2)}) ${numbers.slice(2, 6)}-${numbers.slice(6)}`;
  }
  return `(${numbers.slice(0, 2)}) ${numbers.slice(2, 7)}-${numbers.slice(7, 11)}`;
};
```
### **Avalia√ß√£o Inicial (Terapia)**
- ‚úÖ Pelo menos um problema capilar selecionado
- ‚úÖ Objetivo do tratamento preenchido
- ‚úÖ Tipo de couro cabeludo selecionado

### **Sele√ß√£o de Tratamento**
- ‚úÖ Pelo menos uma necessidade selecionada
- ‚úÖ Pelo menos um tratamento adicionado
- ‚úÖ Nome e procedimento de todos os tratamentos

### **Aplica√ß√£o de Tratamento**
- ‚úÖ Data da aplica√ß√£o informada
- ‚úÖ Tipo de tratamento selecionado
- ‚úÖ T√©cnica empregada informada
- ‚úÖ Pelo menos um produto utilizado

### **Finaliza√ß√£o (Terapia)**
- ‚úÖ Data da finaliza√ß√£o informada
- ‚úÖ Produtos indicados preenchidos

### **Avalia√ß√£o Mega Hair**
- ‚úÖ Nome completo
- ‚úÖ Tempo que deseja procedimento
- ‚úÖ Usou extens√µes antes
- ‚úÖ Densidade capilar, textura, tipo de fio
- ‚úÖ Motivo, resultado esperado
- ‚úÖ Aceita manuten√ß√£o
- ‚úÖ Termo aceito

### **Entrega de Material**
- ‚úÖ Identifica√ß√£o completa (nome, data, profissional)
- ‚úÖ Tipo de material
- ‚úÖ Caracter√≠sticas (cor, comprimento, peso, textura, tipo)
- ‚úÖ Todos os 8 itens do checklist
- ‚úÖ Todos os 4 termos aceitos
- ‚úÖ Valor total

### **Confec√ß√£o e Aplica√ß√£o**
- ‚úÖ Identifica√ß√£o completa
- ‚úÖ Tipo, quantidade de mechas
- ‚úÖ Cliente aprovou
- ‚úÖ T√©cnica de aplica√ß√£o
- ‚úÖ N√∫mero de mechas aplicadas
- ‚úÖ Estado couro cabeludo, apar√™ncia, satisfa√ß√£o
- ‚úÖ Cliente recebeu orienta√ß√µes

### **Finaliza√ß√£o Mega Hair**
- ‚úÖ Identifica√ß√£o completa
- ‚úÖ Estado extens√µes, condi√ß√£o couro cabeludo
- ‚úÖ Cliente satisfeita
- ‚úÖ Frequ√™ncia lavagem, produtos indicados
- ‚úÖ Procedimentos proibidos, indica√ß√£o manuten√ß√£o
- ‚úÖ Cuidados primeiras 48h

---

## üöÄ Roadmap

### **Fase 1: Melhorias de UX** ‚ú®
- [ ] Sistema de salvamento autom√°tico (draft)
- [ ] Indicador visual de campos obrigat√≥rios
- [ ] Tooltip explicativo em campos complexos
- [ ] Atalhos de teclado para navega√ß√£o
- [ ] Breadcrumb no formul√°rio
- [ ] Confirma√ß√£o antes de sair sem salvar
- [ ] Progress bar de preenchimento

### **Fase 2: Visualiza√ß√£o e Relat√≥rios** üìä
- [ ] Visualizador completo de prontu√°rio (com imagens)
- [ ] Compara√ß√£o de fotos antes/depois
- [ ] Linha do tempo de atendimentos por cliente
- [ ] Relat√≥rio de evolu√ß√£o do tratamento
- [ ] Exporta√ß√£o de prontu√°rio em PDF
- [ ] Dashboard de estat√≠sticas avan√ßadas
- [ ] Gr√°ficos de satisfa√ß√£o do cliente

### **Fase 3: Funcionalidades Avan√ßadas** üî•
- [ ] Edi√ß√£o de prontu√°rios existentes
- [ ] Sistema de templates de tratamento
- [ ] C√°lculo autom√°tico de valores
- [ ] Gest√£o de estoque de produtos
- [ ] Notifica√ß√µes de manuten√ß√£o agendada
- [ ] Sistema de lembretes para cliente
- [ ] Agenda integrada com atendimentos

### **Fase 4: Integra√ß√£o e Automa√ß√£o** ü§ñ
- [ ] Integra√ß√£o com WhatsApp para envio de orienta√ß√µes
- [ ] Gera√ß√£o autom√°tica de or√ßamento
- [ ] Sistema de assinatura digital
- [ ] Sincroniza√ß√£o em nuvem
- [ ] Backup autom√°tico
- [ ] Versionamento de prontu√°rios
- [ ] Log de altera√ß√µes

### **Fase 5: Intelig√™ncia e Analytics** üß†
- [ ] Sugest√µes de tratamento baseadas em hist√≥rico
- [ ] An√°lise preditiva de resultados
- [ ] Identifica√ß√£o de padr√µes em tratamentos
- [ ] Recomenda√ß√£o de produtos
- [ ] Sistema de alertas (contraindica√ß√µes)
- [ ] An√°lise de satisfa√ß√£o por t√©cnica
- [ ] Benchmarking de resultados

### **Fase 6: Colabora√ß√£o** üë•
- [ ] Notas colaborativas entre profissionais
- [ ] Sistema de aprova√ß√£o de tratamentos
- [ ] Coment√°rios em prontu√°rios
- [ ] Compartilhamento seguro com outros sal√µes
- [ ] Mentoria integrada
- [ ] F√≥rum de casos cl√≠nicos

### **Fase 7: Mobile e Multiplataforma** üì±
- [ ] Aplicativo mobile nativo
- [ ] Modo offline com sincroniza√ß√£o
- [ ] C√¢mera integrada para fotos
- [ ] Reconhecimento de voz para anota√ß√µes
- [ ] Widget de agendamento
- [ ] App para cliente (acompanhamento)

### **Fase 8: Conformidade e Seguran√ßa** üîí
- [ ] Conformidade LGPD completa
- [ ] Criptografia de dados sens√≠veis
- [ ] Controle de acesso por perfil
- [ ] Auditoria de acessos
- [ ] Pol√≠tica de reten√ß√£o de dados
- [ ] Termo de consentimento digital
- [ ] Certifica√ß√£o ISO 27001